{"version":3,"sources":["service/service.ts","redux/actions.js","components/Preloader/Preloader.js","components/Chart/Chart.js","components/CountriesSelect/CountriesSelect.tsx","components/ErrorBoundary/ErrorBoundary.tsx","components/Dashboard/Dashboard.tsx","components/Country/Country.tsx","components/Login/Login.js","App.tsx","redux/reducer.js","redux/index.js","index.tsx"],"names":["url","process","getResource","a","fetch","res","ok","Error","status","json","getSummary","configUrl","transformSummaryData","getCountries","transformCountriesData","getCountryStatsFromDay","countryName","transformCountryStatsFromDay","data","Global","global","ID","arr","key","configTitle","replace","push","title","count","Countries","countries","datas","confirmedArr","recoveredArr","deathArr","dateArr","i","length","Confirmed","Recovered","Deaths","configDate","Date","slice","setCountriesData","type","payload","Preloader","className","ChartLine","stats","useSelector","state","countryStats","labels","datasets","label","backgroundColor","borderColor","borderWidth","height","width","options","maintainAspectRation","ChartPie","globalData","datasetArr","map","labelsArr","responsive","maintainAspectRatio","CountriesSelect","dispatch","useDispatch","history","useHistory","countriesData","useEffect","then","openCountry","localStorage","setItem","JSON","stringify","setCountryData","value","listCountries","country","Country","styles","singleValue","color","theme","borderRadius","colors","primary25","onChange","ErrorBoundary","hasError","this","setState","console","log","props","children","Component","Dashboard","setGlobalData","catch","gridList","item","localStorageData","getItem","countryData","parse","Slug","setCountryStats","Login","dataOnauth","botName","App","path","exact","initialState","store","createStore","action","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fa31b6fd.chunk.js","sourcesContent":["const url: string = process.env.REACT_APP_API_BASE!;\r\n\r\nconst getResource = async (url: string) => {\r\n  const res = await fetch(url);\r\n  if (!res.ok) {\r\n    throw new Error(`Could not fetch ${url}, reсeived ${res.status}`);\r\n  }\r\n  return await res.json();\r\n};\r\n\r\nexport const getSummary = async () => {\r\n  const configUrl = `${url}summary`;\r\n  const res = await getResource(configUrl);\r\n\r\n  return transformSummaryData(res);\r\n};\r\nexport const getCountries = async () => {\r\n  const configUrl = url + \"summary\";\r\n  const res = await getResource(configUrl);\r\n\r\n  return transformCountriesData(res);\r\n};\r\n\r\nexport const getCountryStatsFromDay = async (countryName: string) => {\r\n  // const fromDay = \"2020-01-01T13:13:30Z\";\r\n  const configUrl = `${url}live/country/${countryName}/status/confirmed`;\r\n  const res = await getResource(configUrl);\r\n\r\n  return transformCountryStatsFromDay(res);\r\n};\r\n\r\nconst transformSummaryData = (data: any) => {\r\n  const { ID, ...global } = data.Global;\r\n  const arr = [];\r\n  for (let key in global) {\r\n    const configTitle = key.replace(/([A-Z]+)/g, \" $1\");\r\n\r\n    arr.push({\r\n      title: configTitle,\r\n      count: global[key],\r\n    });\r\n  }\r\n  return arr;\r\n};\r\n\r\nconst transformCountriesData = (data: any) => {\r\n  const { ID, ...countries } = data.Countries;\r\n  const arr = [];\r\n  let max = 150,\r\n    count = 0;\r\n\r\n  for (let key in countries) {\r\n    count++;\r\n    const { ID, ...datas } = countries[key];\r\n\r\n    if (count < max) {\r\n      arr.push({\r\n        ...datas,\r\n      });\r\n    }\r\n  }\r\n  return arr;\r\n};\r\nconst transformCountryStatsFromDay = (data: any) => {\r\n  const confirmedArr = [],\r\n    recoveredArr = [],\r\n    deathArr = [],\r\n    dateArr = [];\r\n\r\n  for (let i = 0; i < data.length; i++) {\r\n    const { Confirmed, Recovered, Deaths, Date } = data[i];\r\n    const configDate = Date.slice(0, 10);\r\n\r\n    confirmedArr.push(Confirmed);\r\n    recoveredArr.push(Recovered);\r\n    deathArr.push(Deaths);\r\n    dateArr.push(configDate);\r\n  }\r\n  return {\r\n    confirmedArr,\r\n    recoveredArr,\r\n    deathArr,\r\n    dateArr,\r\n  };\r\n};\r\n","export const SET_COUNTRY_DATA = \"SET_COUNTRY_DATA\";\r\nexport const SET_COUNTRY_STATS = \"SET_COUNTRY_STATS\";\r\nexport const SET_COUNTRIES_DATA = \"SET_COUNTRIES_DATA\";\r\nexport const SET_GLOBAL_DATA = \"SET_GLOBAL_DATA\";\r\n\r\nexport const setCountryData = (data) => {\r\n  localStorage.setItem(\"countryData\", JSON.stringify(data));\r\n  return {\r\n    type: SET_COUNTRY_DATA,\r\n    payload: data,\r\n  };\r\n};\r\n\r\nexport const setCountryStats = (data) => {\r\n  localStorage.setItem(\"countryStats\", JSON.stringify(data));\r\n  return {\r\n    type: SET_COUNTRY_STATS,\r\n    payload: data,\r\n  };\r\n};\r\nexport const setCountriesData = (data) => {\r\n  return {\r\n    type: SET_COUNTRIES_DATA,\r\n    payload: data,\r\n  };\r\n};\r\nexport const setGlobalData = (data) => {\r\n  return {\r\n    type: SET_GLOBAL_DATA,\r\n    payload: data,\r\n  };\r\n};\r\n","import \"./Preloader.scss\";\r\n\r\nexport default function Preloader() {\r\n  return (\r\n    <div className=\"preloader-wrapper\">\r\n      <div className=\"container\">\r\n        <div className=\"preloader\">\r\n          <div className=\"bar-wrapper\">\r\n            <div className=\"bar\">\r\n              <div className=\"circle\"></div>\r\n              <p>Loading</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport { Line, Pie } from \"react-chartjs-2\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\n\r\nexport const ChartLine = () => {\r\n  const stats = useSelector((state) => state.countryStats);\r\n\r\n  if (!stats) return <Preloader />;\r\n\r\n  const { confirmedArr, recoveredArr, deathArr, dateArr } = stats;\r\n\r\n  return (\r\n    <div className=\"clart-line chart\">\r\n      <Line\r\n        data={{\r\n          labels: dateArr,\r\n          datasets: [\r\n            {\r\n              label: \"Cases\",\r\n              data: confirmedArr,\r\n              backgroundColor: \"rgba(182, 255, 99, 0.2)\",\r\n              borderColor: \"rgba(182, 255, 99, 1)\",\r\n              borderWidth: 1,\r\n            },\r\n            {\r\n              label: \"Deathes\",\r\n              data: deathArr,\r\n\r\n              backgroundColor: \"rgba(255, 99, 99, 0.2)\",\r\n              borderColor: \"rgba(255, 99, 99, 1)\",\r\n              borderWidth: 1,\r\n            },\r\n\r\n            {\r\n              label: \"Recovered\",\r\n              data: recoveredArr,\r\n              backgroundColor: \"rgba(99, 255, 213, 0.2)\",\r\n              borderColor: \"rgba(99, 255, 213, 1)\",\r\n              borderWidth: 1,\r\n            },\r\n          ],\r\n        }}\r\n        height={10}\r\n        width={20}\r\n        options={{\r\n          maintainAspectRation: false,\r\n        }}\r\n      ></Line>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ChartPie = () => {\r\n  const stats = useSelector((state) => state.globalData);\r\n  const datasetArr = stats.map((data) => data.count);\r\n  const labelsArr = stats.map((data) => data.title);\r\n\r\n  return (\r\n    <div className=\"chart-pie chart\">\r\n      <h2>Global Stats</h2>\r\n      <Pie\r\n        data={{\r\n          labels: labelsArr,\r\n\r\n          datasets: [\r\n            {\r\n              data: datasetArr,\r\n              backgroundColor: [\r\n                \"rgba(54, 162, 235, 0.4)\",\r\n                \"rgba(255, 159, 64, 0.4)\",\r\n                \"rgba(153, 102, 255, 0.4)\",\r\n                \"rgba(75, 192, 192, 0.4)\",\r\n                \"rgba(255, 206, 86, 0.4)\",\r\n                \"rgba(255, 99, 132, 0.4)\",\r\n              ],\r\n              borderColor: [\r\n                \"rgba(54, 162, 235, 1)\",\r\n                \"rgba(255, 159, 64, 1)\",\r\n                \"rgba(153, 102, 255, 1)\",\r\n                \"rgba(75, 192, 192, 1)\",\r\n                \"rgba(255, 206, 86, 1)\",\r\n                \"rgba(255, 99, 132, 1)\",\r\n              ],\r\n              borderWidth: 1,\r\n            },\r\n          ],\r\n          options: {\r\n            responsive: true,\r\n            maintainAspectRatio: false,\r\n          },\r\n        }}\r\n      ></Pie>\r\n    </div>\r\n  );\r\n};\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getCountries } from \"../../service/service\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { setCountryData, setCountriesData } from \"../../redux/actions\";\r\nimport Select from \"react-select\";\r\n\r\nimport \"./CountriesSelect.scss\";\r\n\r\nconst CountriesSelect = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  interface RootState {\r\n    countriesData: any;\r\n  }\r\n  const history = useHistory();\r\n  const countriesData = useSelector((state: RootState) => state.countriesData);\r\n\r\n  useEffect(() => {\r\n    getCountries().then((data: any) => {\r\n      dispatch(setCountriesData(data));\r\n    });\r\n  }, []);\r\n\r\n  const openCountry = (data: any) => {\r\n    dispatch(setCountryData(data.data));\r\n    history.push(`/covid19/country/${data.value}`);\r\n  };\r\n\r\n  const customStyles = {\r\n    singleValue: () => {\r\n      const color = \"#fff\";\r\n      return { color };\r\n    },\r\n  };\r\n\r\n  if (!countriesData) return <div className=\"\">Loading...</div>;\r\n\r\n  const listCountries = countriesData.map((country: any) => {\r\n    const { Country } = country;\r\n    return { value: Country, label: Country, data: country };\r\n  });\r\n\r\n  return (\r\n    <div className=\"countries-select\">\r\n      <Select\r\n        className=\"react-select\"\r\n        styles={customStyles}\r\n        value={{ value: \"Country\", label: \"Country\" }}\r\n        options={listCountries}\r\n        theme={(theme) => ({\r\n          ...theme,\r\n          borderRadius: 0,\r\n          colors: {\r\n            ...theme.colors,\r\n            primary25: \"rgb(29, 32, 41);\",\r\n          },\r\n        })}\r\n        onChange={(data) => openCountry(data)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CountriesSelect;\r\n","import React, { Component } from \"react\";\r\nimport \"./ErrorBoundary.scss\";\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n}\r\nexport default class ErrorBoundary extends Component<Props, State> {\r\n  state: State = {\r\n    hasError: false,\r\n  };\r\n  componentDidCatch() {\r\n    this.setState({ hasError: true });\r\n  }\r\n  render() {\r\n    console.log(this.state.hasError);\r\n\r\n    if (this.state.hasError)\r\n      return <div className=\"error-boundary\">error boundary</div>;\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getSummary, getCountries } from \"../../service/service\";\r\nimport { setGlobalData, setCountriesData } from \"../../redux/actions\";\r\nimport { ChartPie } from \"../Chart/Chart\";\r\nimport CountriesSelect from \"../CountriesSelect/CountriesSelect\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport ErrorBoundary from \"../ErrorBoundary/ErrorBoundary\";\r\n\r\nimport \"./Dashboard.scss\";\r\n\r\nconst Dashboard = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  interface RootState {\r\n    globalData: any;\r\n    countriesData: any;\r\n  }\r\n  const globalData = useSelector((state: RootState) => state.globalData);\r\n  const countriesData = useSelector((state: RootState) => state.countriesData);\r\n\r\n  useEffect(() => {\r\n    getSummary()\r\n      .then((data: any) => {\r\n        dispatch(setGlobalData(data));\r\n      })\r\n      .catch(() => {\r\n        throw new Error(\"error\");\r\n      });\r\n\r\n    getCountries()\r\n      .then((data: any) => {\r\n        dispatch(setCountriesData(data));\r\n      })\r\n      .catch(() => {\r\n        throw new Error(\"error\");\r\n      });\r\n  }, []);\r\n\r\n  if (!globalData || !countriesData) return <Preloader />;\r\n  const gridList = globalData.map((item: any) => {\r\n    const { title, count } = item;\r\n    return (\r\n      <div className=\"grid-square\" key={title}>\r\n        <div className=\"grid-square-content\">\r\n          <p className=\"title\">{title}</p>\r\n          <p className=\"count\">{count}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <div className=\"container\">\r\n        <h1 className=\"logo\">Dashboard</h1>\r\n        <div className=\"table\">{gridList}</div>\r\n        <div className=\"dashboard-flex\">\r\n          <ErrorBoundary>\r\n            <CountriesSelect />\r\n          </ErrorBoundary>\r\n          <div className=\"word-grid grid\">\r\n            <ErrorBoundary>\r\n              <ChartPie />\r\n            </ErrorBoundary>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getCountryStatsFromDay } from \"../../service/service\";\r\nimport { setCountryStats } from \"../../redux/actions\";\r\nimport { ChartLine } from \"../Chart/Chart\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\n\r\nimport \"./Country.scss\";\r\n\r\ninterface RootState {\r\n  countryData: any;\r\n  countryStats: any;\r\n}\r\nconst Country = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const localStorageData: any = localStorage.getItem(\"countryData\");\r\n  const countryData =\r\n    useSelector((state: RootState) => state.countryData) ||\r\n    JSON.parse(localStorageData);\r\n\r\n  useEffect(() => {\r\n    const countryName: string = countryData.Slug;\r\n    getCountryStatsFromDay(countryName).then((data) => {\r\n      dispatch(setCountryStats(data));\r\n    });\r\n  }, [countryData]);\r\n\r\n  if (!countryData) return <Preloader />;\r\n  const { Country: countryName } = countryData;\r\n\r\n  return (\r\n    <div className=\"country\">\r\n      <div className=\"container\">\r\n        <h1 className=\"country-title\">{countryName}</h1>\r\n        <ChartLine />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Country;\r\n","import { useHistory } from \"react-router-dom\";\r\nimport TelegramLoginButton from \"react-telegram-login\";\r\n\r\nimport \"./Login.scss\";\r\n\r\nconst Login = () => {\r\n  const history = useHistory();\r\n\r\n  const handleTelegramResponse = () => {\r\n    history.push(`/covid19/dashboard`);\r\n    localStorage.setItem(\"userLoginStatus\", true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <TelegramLoginButton\r\n        dataOnauth={handleTelegramResponse}\r\n        botName=\"covid19LoginBot\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\nimport Dashboard from \"./components/Dashboard/Dashboard\";\nimport Countries from \"./components/CountriesSelect/CountriesSelect\";\nimport Country from \"./components/Country/Country\";\nimport Login from \"./components/Login/Login\";\nimport ErrorBoundary from \"./components/ErrorBoundary/ErrorBoundary\";\n\nimport \"./App.scss\";\nimport { Route, Switch, BrowserRouter as Router } from \"react-router-dom\";\n\nconst App = () => {\n  return (\n    <>\n      <Router>\n        <Switch>\n          <Route path=\"/covid19/\" exact>\n            <ErrorBoundary>\n              <Login />\n            </ErrorBoundary>\n          </Route>\n          <Route path=\"/covid19/dashboard\">\n            <ErrorBoundary>\n              <Dashboard />\n            </ErrorBoundary>\n          </Route>\n          <Route path=\"/covid19/countries\">\n            <Countries />\n          </Route>\n          <Route path=\"/covid19/country/:Country\">\n            <Country />\n          </Route>\n        </Switch>\n      </Router>\n    </>\n  );\n};\n\nexport default App;\n","const initialState = {\r\n  countryData: null,\r\n};\r\n\r\nexport const mainReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_GLOBAL_DATA\":\r\n      return { ...state, globalData: action.payload };\r\n\r\n    case \"SET_COUNTRY_DATA\":\r\n      return { ...state, countryData: action.payload };\r\n      \r\n    case \"SET_COUNTRIES_DATA\":\r\n      return { ...state, countriesData: action.payload };\r\n\r\n    case \"SET_COUNTRY_STATS\":\r\n      return { ...state, countryStats: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore } from \"redux\";\r\nimport { mainReducer } from \"./reducer\";\r\n\r\nexport const store = createStore(mainReducer);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"../src/redux/index\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}